<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="generator" content="Hugo 0.74.1" />

  <title>Churn Prediction Model &middot; Tauseef Rehman</title>

  <meta name="description" content="Project 1: Clustering Data" />

  

<meta itemprop="name" content="Churn Prediction Model">
<meta itemprop="description" content="Project 1: Clustering Data">
<meta itemprop="datePublished" content="2020-07-15T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2020-07-15T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="942">
<meta itemprop="image" content="https://tauseefr7.github.io/TauseefR/images/profile.png"/>



<meta itemprop="keywords" content="Probability Distributions," />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://tauseefr7.github.io/TauseefR/images/profile.png"/>

<meta name="twitter:title" content="Churn Prediction Model"/>
<meta name="twitter:description" content="Project 1: Clustering Data"/>


<meta property="og:title" content="Churn Prediction Model" />
<meta property="og:description" content="Project 1: Clustering Data" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://tauseefr7.github.io/TauseefR/post/churn-prediction-model/" />
<meta property="og:image" content="https://tauseefr7.github.io/TauseefR/images/profile.png"/>
<meta property="article:published_time" content="2020-07-15T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-07-15T00:00:00+00:00" /><meta property="og:site_name" content="Soho" />



  <link type="text/css"
        rel="stylesheet"
        href="/TauseefR/css/print.css"
        media="print">

  <link type="text/css"
        rel="stylesheet"
        href="/TauseefR/css/poole.css">

  <link type="text/css"
        rel="stylesheet"
        href="/TauseefR/css/hyde.css">

  
<style type="text/css">
  .sidebar {
    background-color: #15022B;
  }

  .read-more-link a {
    border-color: #15022B;
  }

  .pagination li a {
    color: #15022B;
    border: 1px solid #15022B;
  }

  .pagination li.active a {
    background-color: #15022B;
  }

  .pagination li a:hover {
    background-color: #15022B;
    opacity: 0.75;
  }

  footer a,
  .content a,
  .related-posts li a:hover {
    color: #15022B;
  }
</style>



  

  <link rel="stylesheet"
        href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700&display=swap">

  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css"
        integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk="
        crossorigin="anonymous" />

  <link rel="apple-touch-icon-precomposed"
        sizes="144x144"
        href="/apple-touch-icon-144-precomposed.png">

  <link rel="shortcut icon" href="/favicon.png">

  
  </head>
<body>
  <aside class="sidebar">
  <div class="container">
    <div class="sidebar-about">
      
        
        <div class="author-image">
          <img src="/TauseefR/images/profile.png" class="img-circle img-headshot center" alt="Profile Picture">
        </div>
        
      

      <h1>Tauseef Rehman</h1>

      
      <p class="lead">Data Science Portfolio</p>
      
    </div>

    <nav>
      <ul class="sidebar-nav">
        <li>
          <a href="https://tauseefr7.github.io/TauseefR/">Home</a>
        </li>
        <li>
          <a href="/TauseefR/about/">About</a>
        </li><li>
          <a href="/TauseefR/contact/">Contact</a>
        </li><li>
          <a href="/TauseefR/posts/">Posts</a>
        </li>
      </ul>
    </nav>

    <section class="social-icons">
      
      <a href="https://www.linkedin.com/in/rehmantauseef/" rel="me" title="Linkedin" target="_blank">
        <i class="fab fa-linkedin" aria-hidden="true"></i>
      </a>
      
      <a href="https://github.com/tauseefr7" rel="me" title="GitHub" target="_blank">
        <i class="fab fa-github" aria-hidden="true"></i>
      </a>
      
    </section>
  </div>
</aside>


  <main class="content container">
  <div class="post">
  <h1>Churn Prediction Model</h1>

  <div class="post-date">
    <time datetime="2020-07-15T00:00:00Z">Jul 15, 2020</time> &middot; 5 min read
  </div>

  <p>In this post we will be analysing some Telecom data in python. As the dataset contains a lot of features we will
limit the scope of our analysis to creating a churn prediction model and providing some actions on what we can
do to decrease this. Churn meaning the failure to renew subscription of contract with the organisation.</p>
<p>Churn refers to ?</p>
<p>There will be 3 stages:</p>
<p>Stage 1: Data Preprocessing
Stage 2: Data Exploration
Stage 3: Predictive Modelling and Model selection</p>
<h3 id="data-preprocessing">Data Preprocessing</h3>
<p>In this section we look at that raw data in tabular form and make some changes to the data to make the exploration stage easier.</p>
<p>In particular, we carry out the following&rsquo;:&rsquo;</p>
<ul>
<li>We check data types for all features and find that the TotalCharges feature is stored as an object. We change
it to a numeric number (float64) making it the same data type as the MonthlyCharges feature.</li>
<li>Next we find that there 11 missing values in the TotalCharges column so we remove the entire 11 rows from our dataset. This is one of the simplest ways to deal with missing values.</li>
<li>We then remove the CustomerID column as it is just a unique field and will not help
out analysis.</li>
<li>Do we need to change the dependent variable from categorical to numeric?
<a href="https://machinelearningmastery.com/why-one-hot-encode-data-in-machine-learning/">https://machinelearningmastery.com/why-one-hot-encode-data-in-machine-learning/</a></li>
<li>We convert all categorical variables to dummy variables, this is important for&hellip;?</li>
</ul>
<h3 id="data-exploration">Data Exploration</h3>
<h3 id="add-titles-for-charts-before-adding-them">Add titles for charts before adding them</h3>
<p>We look at the correlations (pearson) between the dummy variables and churn.<br>
<img src="https://raw.githubusercontent.com/tauseefr7/Images/main/CA.png" alt="CA123"></p>
<ul>
<li>
<p>Month to month contracts, absence of online security and tech support show to be positively correlated with churn.</p>
</li>
<li>
<p>Tenure, two year contracts show to be negatively correlated with churn.</p>
</li>
<li>
<p>Counter-intuitively, services such as Online security, streaming TV, online backup, tech support, etc. without internet connection seem to be negatively related to churn.</p>
</li>
</ul>
<p>We will explore the patterns for the above correlations below before we delve into modelling and identifying the important variables.</p>
<h4 id="demographics">Demographics</h4>
<p>Let us first understand the gender, age range, spouse and dependent status of the customers</p>
<p>About half of the customers in our data set are male while the other half are female.</p>
<p><img src="https://raw.githubusercontent.com/tauseefr7/Images/main/CA.png" alt="Gender Distribution"></p>
<p>There are only 16% of the customers who are senior citizens. Therefore most of the customers in the data are below the age of 65.</p>
<p><img src="https://raw.githubusercontent.com/tauseefr7/Images/main/CA.png" alt="Senior Citizen"></p>
<p>About 50% of the customers have a partner and 30% of the total customers have dependents.</p>
<p><img src="https://raw.githubusercontent.com/tauseefr7/Images/main/CA.png" alt="Customers with dependents and partners"></p>
<p>Drilling deeper we find that among the customers who have a partner, only about half of them also have a dependent,
while other half do not have any independents. Additionally, as expected, among the customers who do not have any
partner, a majority (80%) of them do not have any dependents.</p>
<p><img src="https://raw.githubusercontent.com/tauseefr7/Images/main/CA.png" alt="% Customers with/without dependents based on whether they have a partner"></p>
<p>We also looked at any differences between the % of customers with/without dependents followed by partners by gender. No solid difference in their distribution by gender was found. Additionally, the number of senior citizens by gender was around the same.</p>
<p>So far we have gained a good insight about the demographics of the customers?</p>
<h4 id="customer-account-information">Customer Account Information</h4>
<p>In this section we look at how long customers have been with the telecom company and the type of contracts they currently have.</p>
<p><img src="https://raw.githubusercontent.com/tauseefr7/Images/main/CA.png" alt="&ldquo;Tenure in Months&rdquo;, &ldquo;Number of Customers&rdquo;"></p>
<p>Above we find that there are a number of customers who have been with company for just a month. There also are a large proportion of customers
who have been there for around 70 months. Side thought; if we were  ever to cluster customers we may want to put these customers in distinct groups.</p>
<p><img src="https://raw.githubusercontent.com/tauseefr7/Images/main/CA.png" alt=""# of Customers by Contract Type&rdquo;"></p>
<p>We explore the different contracts customers have, finding that most of the customers are in their month to month contract and there are around an equal number of customers in the 1 year and 2 year contracts.</p>
<p>Exploring below further, we find that most of the monthly contracts last for 1-2 months, while the 2 year contracts tend to last for about 70 months. This shows that the customers taking a longer contract are more loyal to the company and tend to stay with it for a longer period of time. This is in line with what we saw earlier chart on the correlations with the churn rate.</p>
<p><img src="https://raw.githubusercontent.com/tauseefr7/Images/main/CA.png" alt="&ldquo;3 subsplots of contract type and number of customers&rdquo;"></p>
<p>We next look at the services that customers are using, phone service, internet service etc.</p>
<p><img src="https://raw.githubusercontent.com/tauseefr7/Images/main/CA.png" alt="&ldquo;Number of customers against service&rdquo;"></p>
<p>We may use the above graph later to understand reasoning for churn better.</p>
<h4 id="exploring-churn-further">Exploring Churn Further</h4>
<p>We next take a look at our predictor variable (Churn) and understand its interaction with other important variables as was found out in the correlation plot.</p>
<p>We find that the churn rate stands at 26.6% for our dataset. Our dataset is skewed to customers not churning as 73.4% don&rsquo;t, this is
important to keep in mind for our modelling as skewness could lead to lots of false negatives in our predictive model.</p>
<p><img src="https://raw.githubusercontent.com/tauseefr7/Images/main/CA.png" alt="&ldquo;Churn vs no churn  in dataset&rdquo;"></p>
<p>We next explore churn rate by a range of variables:</p>
<ul>
<li>Tenure</li>
<li>With/without dependents</li>
<li>Contract type</li>
<li>Seniority</li>
<li>Monthly charges</li>
</ul>
<p>Churn vs Tenure: As we can see from the below plot, the customers who do not churn, they tend to stay for a longer tenure with the telecom company. This sounds sensible.</p>
<p><img src="https://raw.githubusercontent.com/tauseefr7/Images/main/CA.png" alt="&ldquo;Churn against Tenure&rdquo;"></p>
<p>Churn vs with/without independents: It seems that customers with dependents are less likely to churn, 16% against 31%.</p>
<p><img src="https://raw.githubusercontent.com/tauseefr7/Images/main/CA.png" alt="&ldquo;Churn with/without independents&rdquo;"></p>
<p>Churn by Contract Type: Similar to what we saw in the correlation plot, the customers who have a month to month contract have a very high churn rate.</p>
<p><img src="https://raw.githubusercontent.com/tauseefr7/Images/main/CA.png" alt="&ldquo;Churn by contract type&rdquo;"></p>
<p>Churn by Seniority: Senior Citizens have almost double the churn rate than younger population.</p>
<p><img src="https://raw.githubusercontent.com/tauseefr7/Images/main/CA.png" alt="&ldquo;Churn for senior customers&rdquo;"></p>
<p>Churn by monthly charges: Higher percent of customers churn when the monthly charges are high.</p>
<p><img src="https://raw.githubusercontent.com/tauseefr7/Images/main/CA.png" alt="&ldquo;Churn by monthly charges&rdquo;"></p>
<h3 id="predictive-modelling">Predictive Modelling</h3>
<h4 id="logistic-regression">Logistic Regression</h4>
<h4 id="support-vector-machine">Support Vector machine</h4>
<h4 id="random-forest-decision-tree">Random Forest Decision Tree</h4>
<h4 id="model-selection">Model Selection</h4>
<h3 id="use-smote-analysis-oversampling">Use SMOTE analysis oversampling</h3>
<p>Imbalance, logistic regression/knn, exploratory analysis, feature engineering</p>

</div>


  </main>

  <footer>
  <div>
    &copy; Tauseef Rehman 2021

    &middot; <a href="https://creativecommons.org/licenses/by-sa/4.0" target="_blank">CC BY-SA 4.0</a>

    &middot; Build with <a href="https://gohugo.io/" target="_blank">Hugo</a> & <a href="https://themes.gohugo.io/soho/" target="_blank">Soho</a> theme
  </div>
</footer>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/js/all.min.js"
          integrity="sha256-MAgcygDRahs+F/Nk5Vz387whB4kSK9NXlDN3w58LLq0="
          crossorigin="anonymous"></script>

  

  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-172913848-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

</body>
</html>
